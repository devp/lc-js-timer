<html>
<head>
<script src="https://code.jquery.com/jquery-2.1.4.min.js" type="text/javascript"></script>
<script src="lc-js-timer.js" type="text/javascript"></script>
<!-- <script src="lc-js-timer_test.js" type="text/javascript"></script> -->
<link rel="stylesheet" type="text/css" href="styles.css">
<script>
$(function(){
	var app = new LcJsTimerApp({
		onStateChange: function(domain, oldState, newState) {
			if (domain == 'game') {
				$("body").toggleClass(
					"game-started",
					((newState == LcJsTimerApp.STATES_ENUM.IN_PROGRESS) ||
					 (newState == LcJsTimerApp.STATES_ENUM.PAUSED)));
				$("body").toggleClass(
					"game-paused",
					(newState == LcJsTimerApp.STATES_ENUM.PAUSED));				
			}
			if (domain == 'travel') {
				$("body").toggleClass(
					"game-travelling",
					((newState == LcJsTimerApp.STATES_TRAVEL_ENUM.TRAVEL_TRANSIT) ||
					 (newState == LcJsTimerApp.STATES_TRAVEL_ENUM.TRAVEL_ARRIVED)));		
			}
		},
		onGameTimerTick: function(seconds) {
			console.log("TICK: GAME: " + seconds);
		},
		onTravelTimerTick: function(seconds) {
			console.log("TICK: TRAVEL: " + seconds);
		}
	});
	$("#start-game").click(app.promptAndConfirmAndStartGameTimer.bind(app));
	$("#start-travel").click(app.promptAndConfirmAndStartTravelTimer.bind(app));
	$("#stop-travel").click(app.confirmStopTravelTimer.bind(app));
	$("#pause").click(app.pauseGame.bind(app));
	$("#resume").click(app.resumeGame.bind(app));
});
</script>
</head>
<body>
	<div id="game-timer">
		<button id="start-game" class="show-unless-game-started">Start Game</button>
	</div>
	<div id="travel-timer">
		<div class="show-if-game-started">
			<button id="start-travel" class="show-unless-game-travelling">Start Travel</button>
			<button id="stop-travel" class="show-if-game-travelling">Stop Travel (DEBUG)</button>
		</div>
	</div>
	<div id="game-controls">
		<div class="show-if-game-started">
			<button id="pause" class="show-unless-game-paused">Pause</button>
			<button id="resume" class="show-if-game-paused">Resume</button>
		</div>
	</div>
</body>
</html>